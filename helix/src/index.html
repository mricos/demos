<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HeLIx</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css">
</head>
<body class="bg-gray-900 text-red-300 font-body min-h-screen flex flex-col">
    <header class="bg-gray-800 p-4">
        <!-- Header content -->
    </header>

    <main class="flex-1 flex items-center justify-center">
	<div
        data-border="0"
 		id="helixPill" class="helix-pill text-4xl py-2 px-4
        bg-gray-900 border-2 border-red-400
        rounded-full mt-1/3 cursor-pointer"
    >
      <div class="helix-pill" data-border="1">
        <div class="helix-pill" data-border="2">
          <div class="helix-pill" data-border="3">
            <div class="helix-pill" data-border="4">
              <div class="helix-pill" data-border="5">
                <div class="helix-pill" data-border="6">
                  <div id="helixPill" class="helix-pill" data-border="7">HeLiX</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </main>

    <footer class="bg-gray-800 p-4">
        <!-- Footer content -->
    </footer>

<script>
let spinning = false;
let animationFrameId;
const easingFactor = 0.95;
let rotation = 0;
let vibe=false;
function init() {
  const pill = document.getElementById('helixPill');
  let spinning = false;
  rotation = 0;

  const footer = document.querySelector('footer');
  footer.addEventListener('click', () => {
    vibe = !vibe;
  });


  let vibe = false;
  const helixPill = document.getElementById('helixPill');
  const innerPills = helixPill.querySelectorAll('.helix-pill[data-border]:not([data-border="0"])');

  // Initially, set display to none for all but the div with data-border="0"
  innerPills.forEach((pill) => {
    pill.style.display = 'none';
  });



  function spin() {

    if (vibe) {
      innerPills.forEach((pill) => {
        pill.style.display = 'block';
      });
    } else {
      innerPills.forEach((pill) => {
        pill.style.display = 'none';
      });
    }


    if (spinning) {
      rotation += 360 / (4 * 60); // Rotate at 1 revolution per 2 seconds
      pill.style.transform = `rotate(${rotation}deg)`;
      requestAnimationFrame(spin);
    }
  }

  pill.addEventListener('click', () => {
    spinning = !spinning;

    if (spinning) {
      spin();
    } else {
      const currentRotation = parseFloat(
                  pill.style.transform.match(
                        /rotate\((\d+(\.\d+)?)deg\)/)[1]
                  );
      const easedRotation = Math.ceil(currentRotation / 90) * 90;
      pill.style.transition = 'transform 1s ease-out';
      pill.style.transform = `rotate(${easedRotation}deg)`;
      setTimeout(() => {
        pill.style.transition = '';
      }, 1000);
      rotation = easedRotation;
    }
  });
}

document.addEventListener('DOMContentLoaded', init);


</script>
</body>
</html>
