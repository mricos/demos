Metadata-Version: 2.4
Name: tau
Version: 0.1.0
Summary: Terminal Audio Workstation
Author: mricos
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: python-osc>=1.8.0
Provides-Extra: video
Requires-Dist: opencv-python>=4.8.0; extra == "video"
Provides-Extra: dev
Requires-Dist: pytest>=7.0; extra == "dev"
Requires-Dist: build; extra == "dev"
Requires-Dist: pyinstaller>=6.0; extra == "dev"

# tau - Terminal Audio Workstation

A modular audio workstation with a real-time C engine and Python interface.

## Features

- **Real-time Audio Engine** (C)
  - 48kHz sample rate, 512-frame buffer
  - 4 mixer channels with gain, pan, filters
  - 16 sample slots with loop/seek
  - 8 synth voices (sine/pulse)
  - Unix socket + OSC control

- **Python REPL**
  - Interactive shell with tab completion
  - Command history
  - Auto-starts engine

- **Python TUI**
  - Multi-track waveform visualization
  - Lane-based mixing
  - Transport controls
  - Parameter tuning

## Quick Start

```bash
# Install
cd /path/to/tau
source ~/tetra/tetra.sh && tetra_python_activate
pip install -e .

# Build engine
cd engine && ./build.sh && cd ..

# Run REPL
tau

# Run TUI
tau tui
```

## Usage

### REPL (default)

```bash
tau                     # Start interactive REPL
tau -c "STATUS"         # Execute single command
tau -s script.tau       # Run script file
```

REPL commands:
```
tau> help               # Show commands
tau> STATUS             # Engine status
tau> MASTER 0.8         # Set master gain
tau> SAMPLE 1 LOAD audio.wav
tau> SAMPLE 1 TRIG      # Play sample
tau> SAMPLE 1 STOP
tau> QUIT               # Stop engine
tau> exit               # Exit REPL (engine keeps running)
```

### TUI

```bash
tau tui                 # Start TUI
tau tui audio.wav       # Load audio file
```

## Project Structure

```
tau/
├── engine/             # C audio engine
│   ├── tau-engine.c    # Main engine source
│   ├── build.sh        # Build script
│   └── tau-engine      # Compiled binary
├── tau_lib/            # Shared Python library
│   ├── core/           # state, config, commands
│   ├── data/           # data loading, storage
│   └── integration/    # engine communication
├── repl_py/            # Python REPL
│   ├── main.py         # Entry point
│   ├── repl.py         # TauREPL class
│   └── cli/            # CLI manager
├── tui_py/             # Python TUI
│   ├── app.py          # Main application
│   ├── commands/       # TUI commands
│   ├── content/        # lanes, clips
│   ├── rendering/      # waveform, sparkline
│   └── ui/             # completion, palette
├── repl_c/             # C REPL (placeholder)
├── build.sh            # Build standalone app
├── tau.spec            # PyInstaller config
└── pyproject.toml      # Package config
```

## Configuration

Config stored in `~/.config/tau/config.toml`:

```toml
[kernel]
tau_a = 0.001
tau_r = 0.005
threshold = 3.0

[transport]
position = 0.0
span = 1.0
```

## Building Standalone

```bash
./build.sh              # Build for current platform
./build.sh clean        # Clean build artifacts
```

Creates `dist/tau` - single executable with bundled Python.

## Engine Protocol

tau-engine accepts line-based commands via Unix socket:

```
MASTER <gain>                    # Master volume (0.0-1.0)
CH <1-4> GAIN|PAN|FILTER ...     # Channel control
SAMPLE <1-16> LOAD|TRIG|STOP ... # Sample playback
VOICE <1-8> ON|OFF|FREQ|GAIN ... # Synth voices
STATUS                           # Get status
QUIT                             # Shutdown engine
```

## License

See parent project license.
